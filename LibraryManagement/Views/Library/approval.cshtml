@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

@model IEnumerable<User>

@{
    ViewBag.Title = "All Users";
}

<h1>All Users</h1>

@if (Model.Any())
{
    <form asp-action="Approval"  method = "post" >
        <div class="card">
            <div class="card-header">
                <h2>Add or remove users from this role</h2>
            </div>
            <div class="card-body">
                @foreach (var user in Model)
                {
                    @*<div class="form-check m-1">
                <input type="hidden" asp-for="@user.Id" />
                <input type="hidden" asp-for="@user.UserName" />
                <input asp-for="@user.IsApproved" class="form-check-input" />
                <label class="form-check-label" asp-for="@user.IsApproved">
                    @user.UserName
                </label>
            </div>*@
                    <div class="card mb-3">
                        <div class="card-header">
                            User Id : @user.Id
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">@user.UserName</h5>
                        </div>
                        <div class="card-footer">
                            <button type="submit" value="Approve"  asp-route-id="@user.Id" class="btn btn-danger">Approve</button>
                            <a asp-action="ListUsers" class="btn btn-danger">leave</a>
                        </div>
                    </div>
                }
            </div>
            <div class="card-footer">
                <input type="submit" value="Approve" class="btn btn-primary"
                       style="width:auto" />
                <a asp-action="ListUsers" 
                   class="btn btn-primary" style="width:auto">Cancel</a>
            </div>
        </div>
       </form>

        }
        else
        {
        <div class="card">
            <div class="card-header">
                All Users Are Approved
            </div>
            <div class="card-body">
                <h5 class="card-title">
                    Use the button below to create a user
                </h5>
                <a class="btn btn-primary" style="width:auto"
                   asp-controller="Account" asp-action="Register">
                    Add new user
                </a>
            </div>
        </div>
        }
